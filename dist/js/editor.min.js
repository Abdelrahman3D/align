!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Editor=e()}(this,function(){"use strict";function t(t){return"string"==typeof t?document.querySelector(t):t}var e=function(e,n){void 0===n&&(n={}),this.el=t(e),this.init()};return e.prototype.init=function(){this.initStyler(),this.initStylerActions(),this.initEditor()},e.prototype.initEditor=function(){var t=this;this.el.contentEditable="true";var e=document.createElement("p");e.innerText="Type here",this.el.appendChild(e),this.el.addEventListener("focus",function(){t.styler.wrapper.classList.add("is-visiable")}),this.el.addEventListener("click",function(){t.updateStylerPositoin()})},e.prototype.initStyler=function(){this.styler={},this.el.insertAdjacentHTML("beforebegin",'\n  <ul class="styler">\n    <li>\n      <button class="styler-button" id="bold">\n        <svg class="icon">\n          <use xlink:href="dist/svg/symbols.svg#icon-bold"></use>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button class="styler-button" id="italic">\n        <svg class="icon">\n          <use xlink:href="dist/svg/symbols.svg#icon-italic"></use>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button class="styler-button" id="underline">\n        <svg class="icon">\n          <use xlink:href="dist/svg/symbols.svg#icon-underline"></use>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button class="styler-button" id="alignLeft">\n        <svg class="icon">\n          <use xlink:href="dist/svg/symbols.svg#icon-alignLeft"></use>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button class="styler-button" id="alignCenter">\n        <svg class="icon">\n          <use xlink:href="dist/svg/symbols.svg#icon-alignCenter"></use>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button class="styler-button" id="alignRight">\n        <svg class="icon">\n          <use xlink:href="dist/svg/symbols.svg#icon-alignRight"></use>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button class="styler-button">\n        <input class="styler-input" type="file" id="addImage">\n        <svg class="icon">\n          <use xlink:href="dist/svg/symbols.svg#icon-image"></use>\n        </svg>\n      </button>\n    </li>\n  </ul>\n'),this.styler.wrapper=t(".styler"),this.styler.bold=t("#bold"),this.styler.italic=t("#italic"),this.styler.underline=t("#underline"),this.styler.alignLeft=t("#alignLeft"),this.styler.alignCenter=t("#alignCenter"),this.styler.alignRight=t("#alignRight"),this.styler.addImage=t("#addImage")},e.prototype.initStylerActions=function(){var t=this;this.styler.bold.addEventListener("click",function(){return t.excute("bold")}),this.styler.italic.addEventListener("click",function(){return t.excute("italic")}),this.styler.underline.addEventListener("click",function(){return t.excute("underline")}),this.styler.alignLeft.addEventListener("click",function(){return t.excute("justifyleft")}),this.styler.alignCenter.addEventListener("click",function(){return t.excute("justifycenter")}),this.styler.alignRight.addEventListener("click",function(){return t.excute("justifyright")}),this.styler.addImage.addEventListener("change",function(){return t.insertImage()})},e.prototype.excute=function(t,e){document.execCommand(t,!1,e),this.el.focus(),this.updateStylerPositoin()},e.prototype.getSelectedPosition=function(){return window.getSelection().getRangeAt(0)},e.prototype.updateStylerPositoin=function(){var t,e=this.getSelectedPosition(),n=document.createElement("sapn");e.insertNode(n),t=n.getBoundingClientRect(),n.parentNode.removeChild(n),this.styler.wrapper.style.top=t.top+window.scrollY-80+"px",this.styler.wrapper.style.left=t.left+"px"},e.prototype.insertImage=function(){var t=this.styler.addImage.files[0];if(t){var e,n=URL.createObjectURL(t),i=document.createElement("img");i.src=n,i.classList.add("editor-image"),e=this.getSelectedPosition(),e.insertNode(i)}},e});